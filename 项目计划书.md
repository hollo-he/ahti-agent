# AHTI-Agent 项目计划书

## 一、项目概述

### 1.1 项目背景

随着移动互联网的普及和人工智能技术的快速发展，人们对智能化生活的需求日益增长。在旅游和健康饮食领域，用户面临着以下痛点：

1. **旅行规划复杂**：传统旅行规划需要查找多个平台（地图、天气预报、票务、攻略），信息分散，规划耗时耗力
2. **饮食健康管理困难**：外出就餐时难以准确了解食物营养成分，缺乏专业的饮食指导
3. **信息获取效率低**：语音交互技术成熟，但现有应用大多依赖文字输入，用户体验不佳
4. **个人数据分散**：旅行记录、饮食数据等分散在不同应用，无法统一管理和分析

### 1.2 项目目的

AHTI-Agent 旨在构建一个智能化的旅行与餐饮助手平台，通过 AI 技术整合旅行规划和饮食分析两大核心功能，为用户提供：

1. **智能旅行规划**：基于语音/自然语言输入，自动规划旅行路线、查询天气、获取门票订购链接
2. **AI 饮食分析**：拍照识别食物，分析营养成分，提供健康饮食建议
3. **统一个人中心**：整合旅行记录和饮食数据，支持个性化设置和偏好管理
4. **便捷交互体验**：支持语音输入、智能对话、自动定位等人性化交互方式

### 1.3 创新点

1. **AI 驱动的智能规划**
   - 使用 LangChain + Gemini AI 进行自然语言理解和任务编排
   - 自动识别用户意图，调用多个 API 完成复杂任务
   - 支持多轮对话，逐步完善规划内容

2. **多模态交互**
   - 语音输入：集成 ASR 语音识别，解放双手
   - 拍照分析：计算机视觉识别菜单食物
   - 文字对话：传统聊天交互

3. **API 智能编排**
   - 自动调用高德地图 API 获取路线和地图
   - 自动查询天气预报 API
   - 自动获取票务信息
   - 整合多个第三方服务，一站式解决用户需求

4. **前后端分离架构**
   - Go 语言构建高性能 API 网关
   - Python 处理 AI 推理和业务逻辑
   - React 构建现代化前端应用
   - 三端协作，职责清晰，易于维护和扩展

5. **智能定位服务**
   - 检测用户需要输入起点时，自动提示使用当前位置
   - 基于浏览器 Geolocation API 获取位置
   - 调用高德地图逆地理编码 API 转换为地址

---

## 二、技术方案

### 2.1 总体架构

项目采用微服务架构，分为三个主要部分：

```
┌─────────────────────────────────────────────────────────┐
│                    用户层                          │
│              Web 浏览器 / 移动端                   │
└────────────────────┬────────────────────────────────┘
                     │ HTTP/HTTPS
┌────────────────────▼────────────────────────────────┐
│                  前端层 (React)                  │
│  - 用户界面渲染                                  │
│  - 语音/文字输入                                │
│  - 地图可视化                                    │
│  - 状态管理                                     │
└────────────────────┬────────────────────────────────┘
                     │ API 请求
┌────────────────────▼────────────────────────────────┐
│           Go API 网关服务 (端口 8080)             │
│  - 统一入口                                      │
│  - 认证授权 (JWT)                                │
│  - 请求转发                                      │
│  - 数据持久化                                    │
└────────────────────┬────────────────────────────────┘
                     │ 转发 AI 请求
┌────────────────────▼────────────────────────────────┐
│        Python AI 推理服务 (端口 8081)            │
│  - ASR 语音识别                                 │
│  - OCR 文字识别                                  │
│  - LangChain Agent 编排                           │
│  - Gemini AI 对话                                │
│  - 第三方 API 调用 (地图、天气、票务)              │
└────────────────────┬────────────────────────────────┘
                     │
┌────────────────────▼────────────────────────────────┐
│           外部服务层                              │
│  - 高德地图 API (路线、逆地理编码)                  │
│  - 天气预报 API                                   │
│  - 票务平台 API                                   │
│  - 短信服务 API (聚合数据)                          │
└─────────────────────────────────────────────────────────┘
```

### 2.2 功能概述

#### 2.2.1 认证系统

- **登录方式**：手机号 + 短信验证码
- **认证机制**：JWT Token + Refresh Token
- **会话管理**：自动刷新 Token，支持持久化登录
- **权限控制**：API 网关层统一认证，保护受保护接口

#### 2.2.2 旅行规划

- **输入方式**：语音输入、文字输入
- **智能理解**：提取起点、终点、时间、偏好等信息
- **路线规划**：调用高德地图 API 获取最优路线
- **地图展示**：嵌入高德地图，可视化展示路线
- **天气查询**：获取目的地天气预报
- **票务信息**：查询景点门票、交通票务
- **导出功能**：生成 HTML/Markdown 格式行程单
- **自动定位**：检测到缺少起点时，提示使用当前位置

#### 2.2.3 饮食分析

- **拍照识别**：上传食物照片
- **OCR 识别**：提取菜单文字（支持手写体）
- **AI 分析**：基于食物名称分析营养成分
- **健康建议**：提供个性化的饮食建议
- **历史记录**：保存分析历史，支持查看

#### 2.2.4 个人中心

- **资料管理**：编辑用户信息、头像、昵称
- **偏好设置**：饮食偏好、旅行偏好
- **历史记录**：旅行计划列表、营养分析记录
- **数据统计**：旅行次数、饮食记录数量等

### 2.3 关键技术

#### 2.3.1 前端技术

| 技术 | 版本 | 用途 |
|------|------|------|
| React | 19.x | UI 框架 |
| TypeScript | 5.x | 类型安全 |
| Vite | 5.x | 构建工具 |
| Tailwind CSS | CDN | 样式框架 |
| Lucide React | latest | 图标库 |

**核心特性：**
- 组件化开发，代码复用性高
- TypeScript 提供类型安全
- Vite 快速热更新
- 响应式设计，支持移动端

#### 2.3.2 Go 后端技术

| 技术 | 版本 | 用途 |
|------|------|------|
| Gin | latest | Web 框架 |
| GORM | latest | ORM 框架 |
| MySQL | 8.x | 关系型数据库 |
| JWT | custom | Token 认证 |

**核心功能：**
- 高并发 API 服务
- 统一认证中间件
- 数据库操作封装
- 请求转发和代理
- 短信验证码服务

#### 2.3.3 Python AI 技术

| 技术 | 版本 | 用途 |
|------|------|------|
| LangChain | latest | AI 编排框架 |
| Google Gemini | latest | 大语言模型 |
| OpenAI Whisper | latest | ASR 语音识别 |
| PaddleOCR | latest | OCR 文字识别 |

**核心功能：**
- Agent 智能编排
- 自然语言理解
- 工具调用（Function Calling）
- 语音转文字
- 图像文字识别

#### 2.3.4 第三方服务

| 服务 | 用途 |
|------|------|
| 高德地图 | 路线规划、逆地理编码、地图展示 |
| 聚合数据 | 短信验证码发送 |
| 天气 API | 目的地天气预报 |
| 票务平台 | 景点门票、交通票务 |

### 2.4 其他技术

#### 2.4.1 数据库设计

**核心表结构：**
- `users` - 用户信息
- `user_sessions` - 用户会话
- `travel_plans` - 旅行计划
- `nutrition_analyses` - 营养分析记录

#### 2.4.2 部署方案

- **容器化**：Docker + Docker Compose

---

## 三、项目计划

### 3.1 可行性分析

#### 3.1.1 技术可行性

| 技术点 | 可行性 | 说明 |
|---------|--------|------|
| React 前端开发 | ✅ 高 | 技术成熟，生态完善 |
| Go API 开发 | ✅ 高 | Gin 框架稳定，性能优秀 |
| Python AI 集成 | ✅ 高 | LangChain 生态成熟，API 文档完善 |
| 高德地图集成 | ✅ 高 | API 稳定，支持丰富 |
| 语音识别 | ✅ 中 | Whisper 模型准确率高，但依赖硬件 |
| OCR 识别 | ✅ 高 | PaddleOCR 开源免费，效果好 |
| 短信服务 | ✅ 高 | 聚合数据 API 稳定 |

**结论**：技术栈成熟稳定，主要依赖开源技术，可行性高。

#### 3.1.2 市场可行性

**需求分析：**
- 旅游市场持续增长，用户对智能化服务需求旺盛
- 健康饮食意识提升，营养分析需求增加
- 语音交互成为趋势，用户期望更便捷的交互方式

**竞争分析：**
- 现有旅行规划应用功能单一，缺少 AI 智能规划
- 饮食分析应用功能独立，无法与其他服务整合
- 本项目的整合型创新具有差异化优势

**结论**：市场需求明确，竞争压力较小，市场可行性高。

#### 3.1.3 资源可行性

**人力资源：**
- 前端开发：1 人（React/TypeScript）
- Go 后端：1 人（Gin/GORM）
- Python AI：1 人（LangChain/Gemini）

### 3.2 排期规划

#### 阶段一：基础框架搭建（4 周）

**目标**：完成项目架构搭建，实现基本功能流程

| 任务 | 周期 | 交付物 |
|------|------|--------|
| 项目初始化（Git、环境配置） | 1 周 | 开发环境搭建完成 |
| 前端框架搭建（React + Vite） | 1 周 | 基础页面框架 |
| Go API 网关搭建 | 1 周 | 认证、路由配置 |
| Python AI 服务搭建 | 1 周 | LangChain Agent 基础框架 |

**里程碑**：架构搭建完成，各服务可独立运行

#### 阶段二：认证与个人中心（3 周）

**目标**：实现用户认证和基础个人信息管理

| 任务 | 周期 | 交付物 |
|------|------|--------|
| 短信验证码功能 | 1 周 | 发送、验证验证码 |
| JWT 认证机制 | 1 周 | 登录、Token 刷新 |
| 个人中心页面 | 1 周 | 用户信息展示、编辑 |

**里程碑**：用户可以登录和查看个人中心

#### 阶段三：旅行规划功能（5 周）

**目标**：实现完整的旅行规划功能

| 任务 | 周期 | 交付物 |
|------|------|--------|
| 语音输入集成（ASR） | 1 周 | 语音转文字 |
| LangChain Agent 编排 | 1 周 | 智能任务拆分 |
| 高德地图集成 | 1 周 | 路线规划、地图展示 |
| 天气 API 集成 | 1 周 | 天气预报查询 |
| 行程导出功能 | 1 周 | HTML/Markdown 生成 |

**里程碑**：用户可以通过语音/文字规划旅行

#### 阶段四：饮食分析功能（4 周）

**目标**：实现拍照识别和营养分析功能

| 任务 | 周期 | 交付物 |
|------|------|--------|
| 图片上传功能 | 1 周 | 前后端上传接口 |
| OCR 文字识别 | 1 周 | 菜单文字提取 |
| AI 营养分析 | 1 周 | 营养成分计算 |
| 健康建议生成 | 1 周 | 个性化饮食建议 |

**里程碑**：用户可以拍照分析食物营养

#### 阶段五：优化与集成（3 周）

**目标**：优化用户体验，完善细节功能

| 任务 | 周期 | 交付物 |
|------|------|--------|
| UI/UX 优化 | 1 周 | 界面美化、交互优化 |
| 自动定位功能 | 3 天 | 起点自动获取 |
| 历史记录管理 | 3 天 | 旅行、饮食记录查询 |
| 性能优化 | 4 天 | 加载速度、响应时间 |

**里程碑**：功能完善，用户体验良好

#### 阶段六：测试与部署（2 周）

**目标**：完成全面测试，准备上线

| 任务 | 周期 | 交付物 |
|------|------|--------|
| 单元测试 | 1 周 | 核心功能测试覆盖 |
| 集成测试 | 3 天 | 端到端流程测试 |
| Docker 部署 | 3 天 | 容器化配置 |
| 文档编写 | 2 天 | API 文档、用户手册 |

**里程碑**：项目可稳定运行，准备上线

### 3.3 风险评估与应对

| 风险 | 概率 | 影响 | 应对措施 |
|------|------|------|----------|
| AI API 限流 | 中 | 高 | 使用多个 API Key，添加缓存机制 |
| 第三方服务不稳定 | 中 | 中 | 准备备用 API，降级方案 |
| 开发进度延迟 | 高 | 中 | 预留缓冲时间，迭代优先级管理 |
| 用户体验不理想 | 中 | 中 | 早期用户测试，快速迭代 |
| 数据库性能瓶颈 | 低 | 高 | 分库分表，添加缓存层 |

---

## 四、总结

AHTI-Agent 是一个创新的 AI 智能助手项目，整合了旅行规划和饮食分析两大核心功能，采用前后端分离的微服务架构，技术栈成熟可靠。

**项目优势：**
1. **技术领先**：集成最新的 AI 技术（Gemini、LangChain）
2. **用户友好**：支持语音、拍照等多模态交互
3. **功能整合**：一站式解决旅行和饮食两大需求
4. **架构合理**：微服务架构，易于维护和扩展

**预期成果：**
- 开发周期：3-4 个月
- 核心功能：认证、旅行规划、饮食分析、个人中心
- 技术文档：完整的 API 文档和开发文档
- 部署方案：Docker 容器化部署

项目具有明确的市场需求、成熟的技术方案、合理的排期规划，可行性高，值得投入开发。
